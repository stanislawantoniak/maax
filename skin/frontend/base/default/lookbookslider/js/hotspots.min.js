
var $altima_jq=jQuery.noConflict();$altima_jq.extend({setHotspots:function(a,c){if(!c){return}var b=0;c.each(function(){if(!document.getElementById(c[b].id)){var r=a.width();var k=r/c[b].imgW;if(typeof c[b].imgW=="undefined"||c[b].imgW===null){k=1;c[b].imgH=a.height()}var f=parseInt((c[b].imgH*k-a.height())/2);var n=c[b].left/(c[b].imgW/100);var h=c[b].top/(c[b].imgH/100);var i=c[b].width/(c[b].imgW/100);var g=c[b].height/(c[b].imgH/100);a.append('<div class="hotspot" id="'+c[b].id+'" style="left:'+n+"%; top:"+h+"%; width:"+i+"%; height:"+g+'%;">'+c[b].text+"</div>");var l=a.find("#"+c[b].id+" .product-info");var e=parseInt(l.actual("outerWidth"));var j=parseInt(c[b].width*k/2);var q=c[b].left*k+j+7;l.find(".info-icon").css("left",j+"px");if(((q+e+10)>r)&&(q>(r-q))){if($altima_jq.browser.msie&&$altima_jq.browser.version=="8.0"){if(q-5<e){l.css("width",q-20+"px");e=l.width()}l.css("left","50%");l.css("margin-left","-"+e-2*parseInt(l.css("padding-left"))+"px")}else{l.css("left","");l.css("right","50%")}if(q-5<e){l.css("width",q-20+"px");e=l.width()}}else{l.css("left","50%");if((r-q-5)<e){l.css("width",r-q-20+"px");e=l.width()}}var p=parseInt(a.height());var m=parseInt(l.actual("outerHeight"));var s=parseInt(c[b].height*k/2);var d=c[b].top*k+s;if(((d+m+5)>p)&&(d>(p-d))){if($altima_jq.browser.msie&&$altima_jq.browser.version=="8.0"){if(d-5<m){l.css("height",d-10+"px");m=l.height()}l.css("top","50%");l.css("margin-top","-"+m-2*parseInt(l.css("padding-top"))+"px")}else{l.css("top","");l.css("bottom",s+"px")}if(d-5<m){l.css("top","50%");l.css("height",d-10+"px");m=l.height()}}else{l.css("top","50%");if((p-d-5)<m){l.css("height",p-d-10+"px");m=l.height()}}var o=a.find("#"+c[b].id+" .hotspot-icon");o.css("left","50%");o.css("top","50%");o.css("margin-left","-"+c[b].icon_width/2+"px");o.css("margin-top","-"+c[b].icon_height/2+"px");b++}})},updateHotspots:function(a,c){if(!c){return}var b=0;c.each(function(){if(document.getElementById(c[b].id)){var e=a.width();var f=e/c[b].imgW;if(typeof c[b].imgW=="undefined"||c[b].imgW===null){f=1;c[b].imgH=a.height()}var d=parseInt((c[b].imgH*f-a.height())/2);$altima_jq("#"+c[b].id).css("left",parseInt(c[b].left*f)+"px");$altima_jq("#"+c[b].id).css("top",parseInt(c[b].top*f-d)+"px");b++}})}});function LookbookAddToCart(b,a){var c=b.up("form");var d=c.action;if(a){c.action=a}var f=null;try{c.submit()}catch(f){}if(f){throw f}if(b&&b!="undefined"){b.disabled=true}}$altima_jq(document).ready(function(){var a="ontouchstart" in document.documentElement?"touchstart":"click";if("ontouchstart" in document.documentElement){$altima_jq(document).on("touchstart","body",function(b){$altima_jq(".hotspot").removeClass("hover");b.stopPropagation()});$altima_jq(document).on("touchstart",".hotspot",function(b){$altima_jq(".hotspot").removeClass("hover");$altima_jq(this).addClass("hover")});$altima_jq(document).on("touchstart",".hotspot .product-info",function(b){b.preventDefault();b.stopPropagation()});$altima_jq(document).on("touchend click tap",".hotspot .product-info a",function(b){b.preventDefault();b.stopPropagation()});$altima_jq(document).on("touchstart",".hotspot .product-info a",function(d){d.preventDefault();d.stopPropagation();var b=$altima_jq(this);var c=b.attr("href");window.location=c});$altima_jq(document).on("click touchstart",".hotspot .product-info button.btn-cart",function(b){LookbookAddToCart(this)})}});