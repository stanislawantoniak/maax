<?php /* @var $this Zolago_Modago_Block_Checkout_Onepage_Shared_Address_Shipping */ ?>
<?php
/**
 * Author: PaweÅ‚ Chyl <pawel.chyl@orba.pl>
 * Date: 08.09.2014
 */
/** @var Zolago_Checkout_Helper_Data $helper */
$helper 			= Mage::helper("zolagocheckout");
$shippingAddress	= $this->getShippingAddress();
$locker				= $this->getInpostLocker();
$inpostLogo			= $this->getSkinUrl('images/inpost/checkout-logo.png');
?>

<fieldset>
    <input type="hidden" name="shipping[address_id]" value="<?php echo $this->getShippingAddressId(); ?>">
    <input type="hidden" name="shipping[region_id]" value="<?php echo $this->getRegionId(); ?>">
    <input type="hidden" name="shipping[region]" value="<?php echo $this->getRegion(); ?>">
    <input type="hidden" name="shipping[country_id]" value="<?php echo $this->getCountryId(); ?>">
    <input type="hidden" name="shipping[fax]" value="<?php echo $this->getFax(); ?>">
    <input type="hidden" name="shipping[save_in_address_book]" value="<?php echo $this->getSaveInAddressBook(); ?>">
    <input type="hidden" name="shipping[same_as_billing]" value="<?php echo $this->getSameAsBilling(); ?>">
    <input type="hidden" name="shipping_address_id" value="">
    <legend><?php echo $this->__("Shipping address"); ?></legend>
	<?php if(!$locker->getId()): ?>
    <div class="form-group form-checkbox small">
        <input type="checkbox" name="shipping[different_shipping_address]" id="orders_someone_else" class="css-checkbox orders_someone_else" <?php if ($this->getOrderSomeoneElseFlag()) : ?>checked<?php endif; ?>>
        <label for="orders_someone_else" class="css-label orders_someone_else"><?php echo $this->__("I'm buing for someone else."); ?></label>
    </div>

    <div class="form-group clearfix <?php if (!$this->getOrderSomeoneElseFlag()) : ?>hidden<?php endif; ?> border-top orders_someone_else">
        <div class="form-group clearfix" style="margin-bottom: 15px;">
            <div class="row">
                <label class="col-lg-3 col-md-3 col-sm-3 col-xs-12" for="shipping_firstname"><?php echo $this->__("First name"); ?></label>
                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                    <input value="<?php echo $this->escapeHtml($shippingAddress->getFirstname()); ?>" type="text" class="form-control firstName hint" required="true" id="shipping_firstname" title="" name="shipping[firstname]" <?php /* data-original-title="<?php echo $this->__("Enter name."); ?>" */ ?>>
                </div>
            </div>
        </div>
        <div class="form-group clearfix border-top">
            <div class="row">
                <label class="col-lg-3 col-md-3 col-sm-3 col-xs-12" for="shipping_lastname"><?php echo $this->__("Last name"); ?></label>
                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                    <input type="text" value="<?php echo $this->escapeHtml($shippingAddress->getLastname()); ?>" class="form-control lastName hint" id="shipping_lastname" title="" name="shipping[lastname]" required="true" <?php /* data-original-title="<?php echo $this->__("Enter last name."); ?>" */ ?>>
                </div>
            </div>
        </div>
    </div>

    <div class="form-group clearfix border-top <?php if (!$this->getOrderSomeoneElseFlag()) : ?>hidden<?php endif; ?> orders_someone_else">
        <div class="row">
            <label class="col-lg-3 col-md-3 col-sm-3 col-xs-12" for="shipping_telephone"><?php echo $this->__("Telephone number"); ?></label>
            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                <input type="tel" value="<?php echo $this->escapeHtml($shippingAddress->getTelephone()); ?>" class="form-control validate-telephone phone" id="shipping_telephone" title="" name="shipping[telephone]" required="true" data-original-title="<?php echo $this->__("Phone number we need only to contact concerning orders for example courier delivering the shipment."); ?>">
            </div>
        </div>
    </div>

    <div class="form-group border-top clearfix">
        <div class="row">
            <label class="col-lg-3 col-md-3 col-sm-3 col-xs-12" for="shipping_street"><?php echo $this->__("Street and number"); ?></label>
            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                <input type="text" value="<?php echo $this->escapeHtml(is_array($shippingAddress->getStreet(-1)) ? explode(" ", $shippingAddress->getStreet(-1)) : $shippingAddress->getStreet(-1)); ?>" class="form-control street" id="shipping_street" title="" name="shipping[street][]" required="true" <?php /* data-original-title="<?php echo $this->__("Enter street and number."); ?>" */ ?>>
            </div>
        </div>
    </div>

    <div class="form-group clearfix border-top">
        <div class="row">
            <label class="col-lg-3 col-md-3 col-sm-3 col-xs-12" for="shipping_postcode"><?php echo $this->__("Zip code"); ?></label>
            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                <input type="tel" value="<?php echo $this->escapeHtml($shippingAddress->getPostcode()); ?>" class="form-control zipcode validate-postcodeWithReplace" required="true" id="shipping_postcode" title="" name="shipping[postcode]" data-original-title="<?php echo $this->__("Zip-code should be entered in the format xx-xxx."); ?>">
                <div id="zip-warning" class="checkout-warning"></div>
            </div>
        </div>
    </div>

    <div class="form-group clearfix border-top">
        <div class="row">
            <label class="col-lg-3 col-md-3 col-sm-3 col-xs-12" for="shipping_city"><?php echo $this->__("City"); ?></label>
            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                <input type="text" value="<?php echo $this->escapeHtml($shippingAddress->getCity()); ?>" class="form-control city hint" id="shipping_city" title="" name="shipping[city]" required="true" <?php /* data-original-title="<?php echo $this->__("Enter city name."); ?>" */ ?>>
            </div>
        </div>
    </div>

    <div class="form-group clearfix border-top hide-success-vaild">
        <div class="row">
            <label class="col-lg-3 col-md-3 col-sm-3 col-xs-12 double-line" for="shipping_company"><?php echo $this->__("Company<br>(optional)"); ?></label>
            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                <input type="text" value="<?php echo $this->escapeHtml($shippingAddress->getCompany()); ?>" class="form-control firm hint" id="shipping_company" title="" name="shipping[company]" <?php /* data-original-title="<?php echo $this->__("Enter company name."); ?>" */ ?>>
            </div>
        </div>
    </div>
	<?php else: // is InPost locker ?>
	<div id="inpost-wrapper" class="panel panel-default inpost-wrapper">
		<div class="panel-body">
			<div class="form-group">

				<input id="shipping_firstname"  name="shipping[firstname]" value="<?php echo $this->escapeHtml($shippingAddress->getFirstname()); ?>" type="hidden"/>
				<input id="shipping_lastname"   name="shipping[lastname]"  value="<?php echo $this->escapeHtml($shippingAddress->getLastname()); ?>" type="hidden"/>
				<input id="shipping_telephone"  name="shipping[telephone]" value="<?php echo $this->escapeHtml($shippingAddress->getTelephone()); ?>" type="hidden"/>
				<input id="shipping_street"     name="shipping[street][]"  value="<?php echo $this->escapeHtml($locker->getStreet() . " " . $locker->getStreetNumber()); ?>" type="hidden"/>
				<input id="shipping_postcode"   name="shipping[postcode]"  value="<?php echo $this->escapeHtml($locker->getPostcode()); ?>" type="hidden"/>
				<input id="shipping_city"       name="shipping[city]"      value="<?php echo $this->escapeHtml($locker->getCity()); ?>" type="hidden"/>
				<input id="orders_someone_else" name="shipping[different_shipping_address]" type="checkbox" class="hidden"/>
				<input id="inpost_locker_name"  name="inpost[locker_name]" value="<?php echo $locker->getLockerName(); ?>" type="hidden"/>
				<div class="row inpost-info">
					<div class="col-xs-7 col-sm-6 col-md-6 col-lg-6" >
						<strong><?php echo $helper->__("Locker InPost"); ?></strong>
						<br/>
						<span id="inpost-locker-street"><?php echo $locker->getStreet(); ?></span> <span id="inpost-locker-street-number"><?php echo $locker->getStreetNumber(); ?></span>
						<br/>
						<span id="inpost-locker-zip-code"><?php echo $locker->getPostcode(); ?></span> <span id="inpost-locker-city"><?php echo $locker->getCity(); ?></span>
						<br/>
						<span id="inpost-locker-details"><?php echo $locker->getDetails(); ?></span>
					</div>
					<div class="col-xs-5 col-sm-6 col-md-6 col-lg-6 text-right">
						<div class="figure-button-wrapper">
							<figure class="inpost-img">
								<div><img src="<?php echo $inpostLogo; ?>"></div>
							</figure>
							<br/>
							<a href="<?php echo Mage::getUrl("checkout/cart"); ?>" class="button button-third large change-locker"><?php echo $helper->__('Change'); ?></a>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
						<?php echo $this->__("Telephone number"); ?>
						<fieldset>
							<div class="form-group clearfix border-top">
								<div class="row">
									<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 account-telephone_for_locker">
										<input id="account-telephone_for_locker"
											   name="account[telephone_for_locker]"
											   value="<?php echo $this->escapeHtml($shippingAddress->getTelephone()); ?>"
											   type="tel"
											   class="form-control phone hint validate-telephone"
											   required="true"/>
									</div>
									<div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 account-telephone_for_locker_comment">
										<?php echo $helper->__("The phone number is required to receive package from locker."); ?><br/>
										<?php echo $helper->__("We do not use it in any other way without your permission!"); ?>
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
	</div>
	<?php endif; ?>
</fieldset>