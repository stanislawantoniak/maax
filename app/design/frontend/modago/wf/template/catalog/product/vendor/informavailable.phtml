<?php

/** @var  $product */
$product = $this->getProduct();
$_helper = Mage::helper("wfwf");
?>
<form action="<?php echo $this->getFormAction(); ?>" id="informavail-form" method="post" novalidate="novalidate" class="form clearfix">    
    <div class="row">
        <fieldset class="fieldset col-xs-11">
            <input type="hidden" name="product_id" value="<?php echo $product->getId();?>"/>
            <input type="hidden" name="attribute_value" value="" id="inform_attribute_value"/>
            <input type="hidden" name="super_attribute" value="" id="inform_super_attribute"/>
            <p><span id="informavail_modal_template"></span></p>
            <p><?php echo $_helper->__("Send your address email to inform about availability.");?></p>
            <ul class="form-list">
                <li class="wide" id="availability-form-customer-email">
                    <div class="form-group">
                        <label for="customer_email" class="required" aria-required="true"><?php echo $_helper->__('Your Email') ?> <em>*</em></label>
                        <div class="input-box">
                            <input type="text" name="email" id="customer_email" class="validate-email required-entry input-text form-control hint closer-valid-ico" required data-rule-email="true"
                                   value=""/>
                        </div>
                    </div>
                </li>
                <li class="wide" id="question-form-question-text">
                    <div class="form-group">
                        <div class="">
                            <input type="checkbox" value="1" name="newsletter" checked="checked" id="inform_newsletter"/>
                            <label for="inform_newsletter"><?php echo $_helper->__('I want to get newsletter from WojcikFashion.com') ?></label>
                        </div>
                    </div>
                </li>
            </ul>
        </fieldset>
    </div>
    <div class="row">
        <div class="col-xs-11">
			<div class="row" style="margin: 0 -15px 0 -15px">
				<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
					<p class="required" aria-required="true"><?php echo $_helper->__('* Required Fields') ?></p>
				</div>
				<div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
					<button type="submit" title="<?php echo $_helper->__('Submit') ?>" class="btn button button-primary sending pull-right">
						<i></i>
						<span><span><?php echo $_helper->__('Submit') ?></span></span></button>
				</div>
			</div>
        </div>
    </div>
</form>
<script type="text/javascript">
    Mall.i18nValidation.add("required", "<?php echo $_helper->__('This field is required') ?>");
    Mall.i18nValidation.add("email", "<?php echo $_helper->__('Valid email is required.') ?>");
</script>
<script>
    jQuery(document).ready(function() {
        var informform =  jQuery("#informavail-form");
        var validationOptions = jQuery.extend({}, Mall.validate.getDefaultValidationOptions(), {
            ignore: '[type=checkbox]'//i.e. do not ignore hidden elements
            ,errorPlacement: function (error, element) {
                error.appendTo(element.parents(".form-group"));
            }
        });
        informform.validate(validationOptions);
        Mall.product._inform_text_template = '<?php echo $_helper->__("Product %s size {{size}} is temporarily unavailable.",$product->getName()); ?>';
    });
</script>