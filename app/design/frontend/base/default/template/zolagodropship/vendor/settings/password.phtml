<?php
/** @var Zolago_Dropship_Block_Vendor_Preferences $this */
/** @var Zolago_Dropship_Model_Session $_session */
$_session = Mage::getSingleton('udropship/session');
/** @var Zolago_Dropship_Model_Vendor $_vendor */
$_vendor = $_session->getVendor();
?>
<div class="container">
    <!--=== Page Header ===-->
    <div class="page-header">
        <div class="page-title">
            <h3><?php echo Mage::helper("zolagodropship")->__("Company settings");?></h3>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <form id="vendor_contact" class="form-horizontal" method="post" action="/udropship/vendor/savePassword">
                <input type="hidden" name="redirectAfter" value="udropship/vendor/editPassword">
                <div class="widget box">
                    <div class="widget-header">
                        <h4><?php echo Mage::helper("zolagodropship")->__("Account password management"); ?></h4>
                    </div>
                    <div class="widget-content">
                        <div class="form-group">
                            <label for="password" class="col-md-3 control-label">
                                <?php echo Mage::helper("zolagodropship")->__("New Password"); ?>
                            </label>

                            <div class="col-md-9">
                                <input id="password" name="password" value="" type="password" class="form-control" size="10">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="password_repeat" class="col-md-3 control-label">
                                <?php echo Mage::helper("zolagodropship")->__("Repeat New Password"); ?>
                            </label>

                            <div class="col-md-9">
                                <input id="password_repeat" name="password_repeat" value="" type="password"
                                       class="form-control" size="10">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="reset" id="filter_reset" class="btn pull-right">
                        <span><span><?php echo $this->__('Cancel'); ?></span></span>
                    </button>
                    <button type="submit" id="filter_submit" class="btn btn-primary pull-right">
                        <span><span><?php echo $this->__('Save'); ?></span></span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
    jQuery(function ($) {
        var form = $("#vendor_contact");
        new Zolago.formIntegrator(form);
        form.validate({
            rules: {
                password: {
                    minlength: 6
                },
                password_repeat: {
                    equalTo: "#password"
                }
            },
            messages: {
                password_repeat: {
                    "equalTo" : "<?php echo $this->__("Please enter the same value again.")?>"
                },
                password: {
                    "minlength" : "<?php echo $this->__("Password needs to have at least %s characters", Mage::helper("zolagocustomer")->getPasswordMinLength()); ?>"
                }
            }
        });
    });
</script>