<?xml version="1.0"?>
<config>
    <modules>
        <Zolago_Turpentine>
            <version>0.0.1</version>
        </Zolago_Turpentine>
    </modules>
	<global>
		<models>
			<zolagoturpentine>
				<class>Zolago_Turpentine_Model</class>
			</zolagoturpentine>
			<turpentine>
				<rewrite>
					<!-- Swap vcl template file -->
					<varnish_configurator_version3>Zolago_Turpentine_Model_Varnish_Configurator_Version3</varnish_configurator_version3>
					<varnish_admin>Zolago_Turpentine_Model_Varnish_Admin</varnish_admin>
					<observer_varnish>Zolago_Turpentine_Model_Observer_Varnish</observer_varnish>
                    <observer_ban>Zolago_Turpentine_Model_Observer_Ban</observer_ban>
				</rewrite>
			</turpentine>
		</models>
		<helpers>
			<turpentine>
				<rewrite>
					<esi>Zolago_Turpentine_Helper_Esi</esi>
                    <ban>Zolago_Turpentine_Helper_Ban</ban>
				</rewrite>
			</turpentine>
		</helpers>
		<!-- 
		<resources>
			<zolagoturpentine_setup>
				<setup>
					<module>Zolago_Turpentine</module>
				</setup>
			</zolagoturpentine_setup>
		</resources>
		-->
        <events>
            <catalog_converter_queue_configurable_execute_varnish>
                <observers>
                    <zolago_turpentine_observer_ban>
                        <class>turpentine/observer_ban</class>
                        <method>banMultiProductPageCache</method>
                    </zolago_turpentine_observer_ban>
                </observers>
            </catalog_converter_queue_configurable_execute_varnish>
        </events>
	</global>
	<frontend>
		<events>
			<catalog_controller_product_view>
				<observers>
                    <zolago_turpentine_product_view>
                        <class>zolagoturpentine/observer</class>
                        <method>productView</method>
                    </zolago_turpentine_product_view>
                </observers>
			</catalog_controller_product_view>
		</events>	
    </frontend>
</config>
